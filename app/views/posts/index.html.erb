<div class="cover-index">
  <div class="container d-flex flex-column align-items-center">
    <div class="row mt-5">
      <h1 class="font-weight-normal">棋譜投稿一覧</h1>
    </div>
    
    <div class="row mt-3 mb-3 align-self-end">
      <%= form_with url: posts_path, method: :get, local: true do |f| %>
      <%= f.text_field :search %>
      <%= f.submit '検索する', name: nil %>
      <% end %>
    </div>
    
    <div class="main-content">
      <div class="posts row">
        <%= render 'index', posts: @posts %>
      </div>
      
      <div class="sidebar">
        <h2 class="font-weight-normal">人気戦型ランキング</h2>
        <% if @rankings.present? %>
          <div class="ranking-list">
            <% @rankings.each_with_index do |(battle_type, count), index| %>
              <p class="ranking-item"><%= "#{index + 1}位  #{battle_type}: #{count}件" %></p>
            <% end %>
          </div>
        <% else %>
          <p>ランキングが存在しません。</p>
        <% end %>
      </div>
    </div>
  </div>
</div>

